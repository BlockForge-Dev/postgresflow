{
  "db_name": "PostgreSQL",
  "query": "\n            WITH a AS (\n              SELECT a.*\n              FROM job_attempts a\n              JOIN jobs j ON j.id = a.job_id\n              WHERE j.queue = $1\n                AND a.started_at >= now() - interval '60 seconds'\n            ),\n            finished AS (\n              SELECT *\n              FROM a\n              WHERE finished_at IS NOT NULL\n            )\n            SELECT\n              (SELECT COUNT(*) FROM finished)::float8 AS finished_count,\n              (SELECT COUNT(*) FROM finished WHERE status = 'succeeded')::float8 AS succeeded_count,\n              (SELECT COUNT(*) FROM a WHERE attempt_no >= 2)::float8 AS retry_count,\n              (SELECT COUNT(*) FROM a)::float8 AS started_count,\n              COALESCE((SELECT AVG(latency_ms)::float8 FROM finished), 0.0) AS mean_latency_ms\n            ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "finished_count",
        "type_info": "Float8"
      },
      {
        "ordinal": 1,
        "name": "succeeded_count",
        "type_info": "Float8"
      },
      {
        "ordinal": 2,
        "name": "retry_count",
        "type_info": "Float8"
      },
      {
        "ordinal": 3,
        "name": "started_count",
        "type_info": "Float8"
      },
      {
        "ordinal": 4,
        "name": "mean_latency_ms",
        "type_info": "Float8"
      }
    ],
    "parameters": {
      "Left": [
        "Text"
      ]
    },
    "nullable": [
      null,
      null,
      null,
      null,
      null
    ]
  },
  "hash": "7cbf852635aad06c677eb56830dd61689fcc7eb1e004167f6d6f4ee59ca89caf"
}
